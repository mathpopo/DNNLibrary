image: Visual Studio 2017
platform: x64

environment:
  CIBW_SKIP: "cp27-* cp33-* cp34-* cp37-* *-win32"
install:
  - git submodule update --init --recursive
  - cd third_party\protobuf
  - git reset --hard b5fbb74
  - cd ..\..
build_script:
  - cd tools\onnx2daq\python
  - pip install http://45.77.254.189/cibuildwheel-0.10.2-py2.py3-none-any.whl
  - cibuildwheel --output-dir wheelhouse
artifacts:
  - path: "wheelhouse\\*.whl"
    name: Wheels
